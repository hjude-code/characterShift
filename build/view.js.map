{"version":3,"file":"view.js","mappings":"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","sources":["webpack://character-shift/./src/view.js"],"sourcesContent":["let offsetText = document.querySelectorAll('h1.wp-block-hjude-character-shift')\r\n\r\nconst threshold = (incriment) =>{\r\n    let steps = []\r\n    let step = 0\r\n\r\n    while(step < 1){\r\n        steps.push(step)\r\n        step += incriment\r\n    }\r\n\r\n    return steps\r\n}\r\n\r\nfunction linear(t, tMin, tMax, value1, value2) {\r\n    if (t <= tMin) {\r\n      return value1;\r\n    } else if (t >= tMax) {\r\n      return value2;\r\n    } else {\r\n      return value1 + (value2 - value1) * (t - tMin) / (tMax - tMin);\r\n    }\r\n  }\r\n\r\n\r\nfunction shifter(entry, from, to, order=\"normal\"){\r\n    chars = entry.target.querySelectorAll('.charBox')\r\n\r\n    let intersectionRatio = entry.intersectionRatio\r\n\r\n    let step = (1/chars.length)\r\n    let min = 0;\r\n    let max = 1\r\n\r\n    if(order == 'normal'){\r\n        for(i = chars.length-1; i > -1; i--){\r\n\r\n            let rangeMin = min + ( (step/1.5) * (chars.length-i-1) )\r\n            let rangeMax = max - ( (step/1.5) * (i) )\r\n    \r\n            let val = linear(intersectionRatio, rangeMin, rangeMax, from, to)\r\n    \r\n            chars[i].style.setProperty('transform', `translateY(${val}%)`)\r\n            chars[i].style.setProperty('--min', rangeMin)\r\n            chars[i].style.setProperty('--max', rangeMax )\r\n    \r\n        }\r\n    }else if(order == 'reverse'){\r\n        for(i = chars.length-1; i > -1; i--){\r\n\r\n            let rangeMin = min + ( (step/1.5) * (i) )\r\n            let rangeMax = max - ( (step/1.5) * (chars.length-i-1) )\r\n    \r\n            let val = linear(intersectionRatio, rangeMin, rangeMax, from, to)\r\n    \r\n            chars[i].style.setProperty('transform', `translateY(${val}%)`)\r\n            chars[i].style.setProperty('--min', rangeMin)\r\n            chars[i].style.setProperty('--max', rangeMax )\r\n    \r\n        }\r\n        console.log('rev')\r\n    }\r\n}\r\n\r\n\r\n\r\nlet offsetTextObserver = new IntersectionObserver((entries)=>{\r\n\r\n    entries.forEach(entry=>{\r\n        if(entry.isIntersecting){\r\n            let textOffset = -1\r\n\r\n            let fromTop = entry.boundingClientRect.top\r\n            let fromBottom = window.innerHeight - entry.boundingClientRect.bottom\r\n\r\n            if(fromTop > fromBottom){ //bottom intersection\r\n                shifter(entry, -200, -100, 'reverse')\r\n            }else if(fromBottom >= fromTop){ //top intersection\r\n                shifter(entry, 0, -100)\r\n            }\r\n\r\n            \r\n        }\r\n\r\n    })\r\n    \r\n}, {\r\n    threshold: threshold(0.0001),\r\n    rootMargin: '-60px 0px -100px 0px'\r\n})\r\n\r\noffsetText.forEach(element=>{\r\n    offsetTextObserver.observe(element)\r\n})\r\n"],"names":["offsetText","document","querySelectorAll","threshold","incriment","steps","step","push","linear","t","tMin","tMax","value1","value2","shifter","entry","from","to","order","chars","target","intersectionRatio","length","min","max","i","rangeMin","rangeMax","val","style","setProperty","console","log","offsetTextObserver","IntersectionObserver","entries","forEach","isIntersecting","textOffset","fromTop","boundingClientRect","top","fromBottom","window","innerHeight","bottom","rootMargin","element","observe"],"sourceRoot":""}